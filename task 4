python
import aiohttp
import asyncio
import time
from typing import AsyncGenerator, Dict, Any

# ------------------ ERRORS ------------------
class APIError(Exception):
    pass

class NotFoundError(APIError):
    pass

class RateLimitError(APIError):
    pass

class ServerError(APIError):
    pass


# ---------------- RATE LIMITER ----------------
class RateLimiter:
    def _init_(self, calls: int, period: int):
        self.calls = calls
        self.period = period
        self.tokens = calls
        self.reset_time = time.time() + period

    async def acquire(self):
        now = time.time()
        if now >= self.reset_time:
            self.tokens = self.calls
            self.reset_time = now + self.period

        if self.tokens <= 0:
            await asyncio.sleep(self.reset_time - now)

        self.tokens -= 1


# ---------------- GITHUB API ----------------
class GitHubAPI:
    BASE_URL = "https://api.github.com"

    def _init_(self, token: str):
        self.token = token
        self.session: aiohttp.ClientSession | None = None
        self.limiter = RateLimiter(5000, 3600)

    async def _aenter_(self):
        self.session = aiohttp.ClientSession(
            headers={"Authorization": f"Bearer {self.token}"}
        )
        return self

    async def _aexit_(self, exc_type, exc, tb):
        await self.session.close()

    async def _request(self, method: str, endpoint: str, **kwargs) -> Dict[str, Any]:
        await self.limiter.acquire()
        url = f"{self.BASE_URL}/{endpoint}"

        async with self.session.request(method, url, **kwargs) as resp:
            if resp.status == 404:
                raise NotFoundError("Resource not found")
            if resp.status == 429:
                raise RateLimitError("Rate limit exceeded")
            if resp.status >= 500:
                raise ServerError("GitHub server error")

            resp.raise_for_status()
            return await resp.json()

    async def get_user(self, username: str) -> Dict[str, Any]:
        return await self._request("GET", f"users/{username}")

    async def get_repos(self, username: str) -> AsyncGenerator[Dict[str, Any], None]:
        page = 1
        while True:
            data = await self._request(
                "GET",
                f"users/{username}/repos",
                params={"page": page, "per_page": 100}
            )
            if not data:
                break
            for repo in data:
                yield repo
            page += 1


# ---------------- RUN ----------------
async def main():
    async with GitHubAPI("YOUR_GITHUB_TOKEN") as api:
        user = await api.get_user("torvalds")
        print(user["login"])

        async for repo in api.get_repos("torvalds"):
            print(repo["name"])


if _name_ == "_main_":
    asyncio.run(main())